- name: Extract project ZIP
  run: |
    unzip GitSafe.zip -d extracted-project
    echo "✅ Extracted project structure:"
    ls -R extracted-project

- name: Build Debug APK (with full logs)
  run: |
    cd extracted-project/GitSafe || (echo "❌ GitSafe directory not found!" && exit 1)
    echo "📍 Working directory:" && pwd
    echo "🔧 Making gradlew executable..."
    chmod +x gradlew
    echo "🚀 Running Gradle in full debug mode..."
    ./gradlew clean assembleDebug --stacktrace --info --debug | tee gradle_debug.log
    echo "✅ Build finished (or failed), debug log saved to gradle_debug.log"